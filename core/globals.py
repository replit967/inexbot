# core/globals.py

from config import *

# üõ°Ô∏è –°–ø–∏—Å–æ–∫ Telegram user_id –∞–¥–º–∏–Ω–æ–≤ (int)
# –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä: [1007208422, 123456789]
ADMIN_IDS = [1007208422]  # <-- –î–æ–±–∞–≤—å —Å—é–¥–∞ —Å–≤–æ–∏ id

# ‚≠ê –†–µ–π—Ç–∏–Ω–≥–∏ –∏–≥—Ä–æ–∫–æ–≤ (user_id: elo)
ratings = {}  

# üìú –ò—Å—Ç–æ—Ä–∏—è –º–∞—Ç—á–µ–π (match_id: dict)
matches = {}  

# üö´ –ó–∞–±–∞–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (user_id: –ø—Ä–∏—á–∏–Ω–∞/–≤—Ä–µ–º—è)
bans = {}  

# ‚ö†Ô∏è –ò–Ω—Ñ—Ä–∞–∫—Ü–∏–∏/–Ω–∞—Ä—É—à–µ–Ω–∏—è (user_id: dict –∏–Ω—Ñ—Ä–∞–∫—Ü–∏–π)
infractions = {}  

# ü§ù –£—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è (user_id: trust_score)
trust_data = {}  

# üìù –õ–æ–≥ –∂–∞–ª–æ–± (user_id: —Å–ø–∏—Å–æ–∫ –∂–∞–ª–æ–±)
report_log = {}  

# üè∑Ô∏è –ò–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (user_id: –∏–º—è)
names = {}  

# üéØ –û—á–µ—Ä–µ–¥—å 1v1 ‚Äî —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –∏—â—É—â–∏—Ö –º–∞—Ç—á
# [{'user_id': ..., 'elo': ..., 'joined_at': ..., 'notify_message_id': ..., 'chat_id': ...}]
queue_1v1 = []

# üèÜ –û—á–µ—Ä–µ–¥—å 5v5 ‚Äî —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥, –∏—â—É—â–∏—Ö –º–∞—Ç—á
queue_5v5 = []

# üî• –ê–∫—Ç–∏–≤–Ω—ã–µ 1v1 –º–∞—Ç—á–∏ (match_id: dict)
active_matches = {}

# üî• –ê–∫—Ç–∏–≤–Ω—ã–µ 5v5 –º–∞—Ç—á–∏ (match_id: dict)
active_matches_5v5 = {}

# ‚è≥ –ú–∞—Ç—á–∏ —Å –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º (match_id: dict)
pending_results = {}

# üïë –ö—É–ª–¥–∞—É–Ω –Ω–∞ —Å–º–µ–Ω—É –∏–º–µ–Ω–∏ (user_id: timestamp)
name_change_timestamps = {}

# ‚è±Ô∏è –ö—É–ª–¥–∞—É–Ω –Ω–∞ –∫–æ–º–∞–Ω–¥—ã (user_id: timestamp)
user_cooldowns = {}

# üë§ –ü–æ—Å–ª–µ–¥–Ω–∏–µ username'—ã (user_id: username)
usernames = {}

# üß† –°—Å—ã–ª–∫–∞ –Ω–∞ Telegram JobQueue (–Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –≤ main.py)
job_queue = None

# ‚è∞ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –º–∞—Ç—á–∞—Ö (match_id: job)
match_reminders = {}

# üîÑ –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø–æ–∏—Å–∫–µ (user_id: job)
search_jobs = {}

# üöÄ –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (–Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)
send_search_reminder = None

# üí¨ –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥–Ω—ã–µ —á–∞—Ç—ã –¥–ª—è 5v5 (match_id: {'blue': chat_id, 'red': chat_id})
team_chats = {}

# üèÖ –†–æ–ª–∏ –≤ –∫–æ–º–∞–Ω–¥–∞—Ö (match_id: {'blue': {'leader': ..., 'captain': ...}, ...})
team_roles = {}

# üêû DEBUG-—Ä–µ–∂–∏–º –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
DEBUG_MODE = True

# üìö –ü—É–ª –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥–Ω—ã—Ö —á–∞—Ç–æ–≤ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ)
chat_pool = {
    'available': [],       # –°–ø–∏—Å–æ–∫ ID —Å–≤–æ–±–æ–¥–Ω—ã—Ö —á–∞—Ç–æ–≤
    'in_use': {}           # match_id: chat_id
}

# üÜî –û–∂–∏–¥–∞–Ω–∏–µ –≤–≤–æ–¥–∞ ID –ª–æ–±–±–∏ (user_id: match_id)
waiting_lobby_id = {}  # –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º user_id –¥–ª—è –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç–∏


# =========================
# üëá –î–õ–Ø –ü–†–ò–í–ï–¢–ö–ò –í –ö–û–ú–ê–ù–î–ù–´–• –ß–ê–¢–ê–•
# =========================

# üß∑ ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è-–ø—Ä–∏–≤–µ—Ç–∫–∏ –≤ –∫–∞–∂–¥–æ–º —á–∞—Ç–∏–∫–µ
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —á—Ç–æ–±—ã —É–¥–∞–ª—è—Ç—å —Å—Ç–∞—Ä—É—é –ø—Ä–∏–≤–µ—Ç–∫—É –ø–µ—Ä–µ–¥ —Ä–µ–ø–æ—Å—Ç–æ–º –∏ –Ω–µ –ø–ª–æ–¥–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã.
# –§–æ—Ä–º–∞—Ç: { chat_id: message_id }
last_welcome_msg = {}

# üß≠ –ö–æ–Ω—Ç–µ–∫—Å—Ç –º–∞—Ç—á–∞ –ø–æ —á–∞—Ç–∞–º ‚Äî –Ω—É–∂–µ–Ω —Ö—ç–Ω–¥–ª–µ—Ä—É –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è, —á—Ç–æ–±—ã –∑–∞–Ω–æ–≤–æ —Å–æ–±—Ä–∞—Ç—å –ø—Ä–∏–≤–µ—Ç–∫—É
# –§–æ—Ä–º–∞—Ç: {
#   chat_id: {
#       "match_id": <str|int>,            # ID –º–∞—Ç—á–∞
#       "team_side": <str>,               # —Å—Ç–æ—Ä–æ–Ω–∞/—Ü–≤–µ—Ç –∫–æ–º–∞–Ω–¥—ã, –∫–∞–∫ —É —Ç–µ–±—è –ø—Ä–∏–Ω—è—Ç–æ ("blue"/"red" –∏ —Ç.–ø.)
#       "roster": [                       # —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã
#           {"user_id": int, "username": str|None, "name": str|None},
#           ...
#       ],
#       "captain_id": <int|None>          # id –∫–∞–ø–∏—Ç–∞–Ω–∞ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
#   }
# }
matches_by_chat = {}
